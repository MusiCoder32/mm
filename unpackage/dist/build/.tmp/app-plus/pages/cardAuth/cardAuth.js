(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cardAuth/cardAuth"],{"1aa3":function(t,a,e){"use strict";e.r(a);var r=e("32ba"),n=e.n(r);for(var c in r)"default"!==c&&function(t){e.d(a,t,function(){return r[t]})}(c);a["default"]=n.a},"2cb7":function(t,a,e){"use strict";e.r(a);var r=e("a9cd"),n=e("1aa3");for(var c in n)"default"!==c&&function(t){e.d(a,t,function(){return n[t]})}(c);e("3515");var i=e("2877"),u=Object(i["a"])(n["default"],r["a"],r["b"],!1,null,null,null);a["default"]=u.exports},"32ba":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r,n=e("2f62");function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(a){i(t,a,e[a])})}return t}function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var u={data:function(){return{idCard1:0,idCard2:0,pathCard1:"../../static/img/cardAuth/idcard1.png",pathCard2:"../../static/img/cardAuth/idcard2.png",cardName:"",cardNumber:""}},onLoad:function(){r=this,console.log(this.authResult.state," at pages\\cardAuth\\cardAuth.vue:60")},methods:{uploadImage:function(a,e){var r=this;t.uploadFile({url:"http://t249d62588.zicp.vip/api/uploadImage",filePath:a,name:"file",header:{token:t.getStorageSync("token")},formData:{file:a,type:1},success:function(t){a=JSON.parse(t.data),0==a.code&&(1==e?r.idCard1=a.data:2==e&&(r.idCard2=a.data)),console.log(t," at pages\\cardAuth\\cardAuth.vue:84"),console.log(r.idCard1,r.idCard2," at pages\\cardAuth\\cardAuth.vue:85")},fail:function(t){console.log(t," at pages\\cardAuth\\cardAuth.vue:88")}})},selectImg1:function(){t.chooseImage({count:1,sizeType:["compressed"],success:function(t){r.pathCard1=t.tempFilePaths[0],r.uploadImage(r.pathCard1,1)}})},selectImg2:function(){t.chooseImage({count:1,success:function(t){r.pathCard2=t.tempFilePaths[0],r.uploadImage(r.pathCard2,2)}})},previewImg1:function(){t.previewImage({urls:[r.pathCard1]})},previewImg2:function(){t.previewImage({urls:[r.pathCard2]})},doReg:function(){var a=/^[\u4e00-\u9fa5]{2,4}$/;if(!a.test(this.cardName.trim()))return this.$api.msg("真实姓名填写有误"),!1;var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return!1===e.test(this.cardNumber)?(this.$api.msg("身份证号码输入不合法"),!1):"../../static/img/cardAuth/idcard1.png"==this.pathCard1?(t.showToast({title:"请选择身份证正面照片",icon:"none"}),!1):"../../static/img/cardAuth/idcard1.png"==this.pathCard2?(t.showToast({title:"请选择身份证背面照片",icon:"none"}),!1):void this.uploadCards()},uploadCards:function(){var a={real_name:this.cardName,card_id:this.cardNumber,imageA:this.idCard1,imageB:this.idCard2};this.$Request.post(this.$Urlconf.cardAuth.addUserAuthentication,a).then(function(a){0!=a.code&&t.navigateBack({delta:1})})}},computed:c({},(0,n.mapState)(["authResult"]))};a.default=u}).call(this,e("6e42")["default"])},3515:function(t,a,e){"use strict";var r=e("a346"),n=e.n(r);n.a},a346:function(t,a,e){},a9cd:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement;t._self._c},n=[];e.d(a,"a",function(){return r}),e.d(a,"b",function(){return n})}},[["b315b","common/runtime","common/vendor"]]]);